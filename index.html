<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>Para minha Princesinha ðŸ’•</title>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      height: 100dvh;
      background: linear-gradient(135deg, #ffe4e1, #ffc1cc, #ff9aa2, #ff758c);
      font-family: 'Georgia', serif;
      color: white;
      overflow: hidden;
      position: relative;
    }

    audio { display: none; }

    #musicBtn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #7d3cff;
      color: white;
      padding: 12px 20px;
      border-radius: 30px;
      font-size: 1rem;
      font-weight: bold;
      border: none;
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
      z-index: 999;
      cursor: pointer;
    }

    /* resto do seu CSS anterior (envelope, palavras, etc.) */
    .heart { position: absolute; top: -10vh; font-size: clamp(1rem, 4vw, 1.8rem); pointer-events: none; animation: fall linear infinite; opacity: 0.8; }
    @keyframes fall { 0% { transform: translateY(0) translateX(0) rotate(0deg); } 100% { transform: translateY(120vh) translateX(60vw) rotate(720deg); } }

    .intro, .main, .stage { /* seu CSS anterior */ }
    /* ... (mantenha o resto do CSS que vocÃª jÃ¡ tinha) ... */
  </style>
</head>
<body>

  <!-- seu HTML anterior (envelope, pÃ¡ginas, etc.) -->

  <div class="intro" id="intro">
    <div class="envelope" onclick="openLetter()"></div>
    <div class="envelope-text">Para minha Princesinha ðŸ’Œ</div>
  </div>

  <!-- ... resto do seu HTML (main, stages, etc.) ... -->

  <!-- Ãudio nativo -->
  <audio id="bgMusic" loop preload="auto">
    <source src="poesia-pra-ela.mp3" type="audio/mpeg">
  </audio>

  <!-- BotÃ£o de emergÃªncia -->
  <button id="musicBtn" onclick="document.getElementById('bgMusic').play()">ðŸŽµ Tocar MÃºsica</button>

  <script>
    const music = document.getElementById('bgMusic');

    function playMusic() {
      music.play().then(() => {
        console.log("âœ… MÃºsica tocando!");
        document.getElementById('musicBtn').style.display = 'none';
      }).catch(e => {
        console.log("âŒ Erro ao tocar:", e);
        document.getElementById('musicBtn').style.display = 'block';
      });
    }

    // Tenta tocar em qualquer toque/clique
    document.addEventListener('click', playMusic, { passive: true });
    document.addEventListener('touchstart', playMusic, { passive: true });

    // Tenta novamente a cada 3 segundos atÃ© tocar
    setInterval(() => {
      if (music.paused) playMusic();
    }, 3000);

    // Tenta tocar quando abrir o envelope
    document.querySelector('.envelope').addEventListener('click', playMusic);
  </script>
</body>
</html>
